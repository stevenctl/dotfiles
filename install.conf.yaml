- defaults:
    link:
      create: true
      relink: true
    shell:
      stderr: true

# We have a few submodules
- shell: 
  - [git submodule update --recursive -f, Updating submodules...]

# Ensure we have homebrew on Mac
- shell: 
  - [./setup-zsh.sh, Setting up zsh]

# Python
- shell:
  - [./setup-python.sh, Setting up pip]

# Node (nvm)
- shell:
  - [curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.2/install.sh | bash, Installing nvm for node]
  - [source $HOME/.nvm/nvm.sh; nvm install node, Init nvm]
  - [source $HOME/.nvm/nvm.sh; node || nvm use node ]

# Rust
- shell:
  - ["curl https://sh.rustup.rs -sSf | sh -s -- -y --no-modify-path -c rust-analyzer -c clippy", "Installing rust"]

# Go


# gcloud
- shell:
  - [./setup-gcloud.sh, Installing gcloud]

# Utils
- shell:
  - [./aptbrew.sh ripgrep, Installing ripgrep]

# vim/neovim
- shell:
  - [./setup-neovim.sh, Installing neovim]
- link:
    ~/.config/nvim: editors/neovim
    ~/.vimrc: editors/.vimrc

# ZSH
- clean: ['~', '~/.oh-my-zsh/custom/', '~/.oh-my-zsh/custom/plugins/']
- shell:
  - [mkdir -p ~/.oh-my-zsh/custom/, Creating oh-my-zsh custom forlders]
  - [mkdir -p ~/.oh-my-zsh/custom/plugins, Creating oh-my-zsh custom plugins forlders]
- link:
    ~/.zshenv:
      force: true
      path: zsh/.zshenv
    ~/.zshrc:
      force: true
      path: zsh/.zshrc
    ~/.oh-my-zsh/custom:
      force: true
      path: zsh/oh-my-zsh-custom
    ~/.p10k.zsh: zsh/.p10k.zsh

